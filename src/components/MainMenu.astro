---
import "@layouts/compositions/stack.css";
---

<style>
  .this {
    --stack--spacing: 1.5rem;
    position: sticky;
    top: var(--top-placement);
    /*Mobile view: Push content down a bit for the 'rocket show'*/
    margin-block-start: var(--top-placement);
    /*Fit sidebar into viewport*/
    max-height: calc(100vh - var(--top-placement) - 1px);
    /* Optional: Shrink sidebar to fit child elements only */
    align-self: flex-start;
  }

  /* Mobile view */
  @media (max-width: 1111px) {
    .this {
      max-height: initial;
      /* Ensure spacing to bottom - needed because of the ::before content clip */
      margin-block-end: calc(var(--top-placement) + var(--rocket-overlap));
    }
  }
</style>

<div class="this | stack">
  <slot />
</div>
