---
import type { FrontMatter, Tags } from "@lib/api";
import { createTags } from "@lib/xform";
import Index from "@components/Index.astro";

/* Static (SSG) Mode */
export async function getStaticPaths() {
  const posts = await Astro.glob<FrontMatter>("../read/**/*.md");
  const dataTag: Tags[] = createTags(posts);
  return dataTag.map(({ tag }: Tags) => ({ params: { tag } }));
}
const { tag } = Astro.params;
---

<Index tag={tag} />
