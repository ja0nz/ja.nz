---
import { Tags, getC } from "@lib/api";

import { createTags } from "@lib/xform";
import Index from "@components/Index.astro";

/* Static (SSG) Mode */
export async function getStaticPaths() {
  const longs = await getC("long");
  const shorts = await getC("short");
  const dataTag: Tags[] = createTags([...shorts, ...longs]);
  return dataTag.map(({ tag }: Tags) => ({ params: { tag } }));
}
const { tag } = Astro.params;
---

<Index tag={tag} />
