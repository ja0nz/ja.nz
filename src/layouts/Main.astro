---
interface Props {
  render: Render;
  requires?: AstroComponentFactory[];
}
import type { AstroComponentFactory } from "astro/dist/runtime/server";
import type { Render } from "@lib/api";
const { frontmatter } = Astro.props.render;
---

<style>
  /* TODO remove */
  #main:focus {
    outline: 4px dashed green;
  }

  /* Ensure some breathing before tabbing in #main */
  :target {
    scroll-margin-top: calc((var(--top-placement) + var(--rocket-overlap)));
  }
</style>

<main class="this">
  <div id="placeholder" style="height: var(--top-placement);"></div>
  <ul id="main" tabindex="0">
    <template x-for="(x, idx) in f(search)">
      <li tabindex="0" class="border h-40">
        <span x-html="hl(search, x.title)"></span>
        <span x-html="hl(search, x.summary)"></span>
        <span x-html="hl(search, x.category)"></span>
        <span x-text="x.date"></span>
        <span x-text="x.tags"></span>
        <span x-text="x.id"></span>
      </li>
    </template>
    {
      frontmatter.map((item) => (
        <li x-show="0" tabindex="0" class="border h-40">
          <span>{item.title}</span>
          <span>{item.summary}</span>
          <span>{item.category}</span>
          <span>{item.date}</span>
          <span>{item.tags}</span>
          <span>{item.id}</span>
        </li>
      ))
    }
  </ul>
</main>
